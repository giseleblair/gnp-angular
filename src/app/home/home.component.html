<main
  class="min-h-screen bg-gradient-to-br from-amber-50 via-slate-50 to-sky-50 px-6 py-14"
>
  <div
    class="pointer-events-none absolute inset-x-0 bottom-[-40%] h-[75%] bg-[radial-gradient(circle,rgba(251,191,36,0.25),transparent_60%)] blur-lg"
  ></div>
  <section *ngIf="data$ | async as data; else loading" class="relative w-full">
    <header
      class="w-full rounded-[28px] bg-slate-900/95 px-10 py-12 text-slate-50 shadow-2xl shadow-slate-900/20"
    >
      <div class="mx-auto flex w-full max-w-5xl flex-col gap-6">
        <div>
          <p class="mb-4 text-xs uppercase tracking-[0.3em] text-slate-200/70">
            Angular Zesty.io
          </p>
          <h1 class="text-3xl font-semibold tracking-tight sm:text-4xl">
            {{ data.title || 'Homepage' }}
          </h1>
          <p class="mt-4 max-w-2xl text-base leading-7 text-slate-200/80">
            {{
              data.meta?.web?.seo_meta_description ||
                'Fresh content streamed from Zesty with localization-ready metadata.'
            }}
          </p>
        </div>
        <div class="flex flex-wrap items-center gap-4">
          <a
            class="rounded-full bg-amber-400 px-6 py-3 font-semibold text-slate-900 shadow-lg shadow-amber-400/40 transition hover:-translate-y-0.5"
            [href]="data.meta?.web?.url"
            target="_blank"
            rel="noreferrer"
          >
            Visit {{ data.meta?.web?.seo_meta_title || 'site' }}
          </a>

        </div>
      </div>
    </header>

    <section class="mx-auto mt-10 grid w-full max-w-5xl gap-6 lg:grid-cols-2">
      <app-main-categories class="block"></app-main-categories>

      <section class="grid gap-6">
      <article class="rounded-2xl bg-white p-7 shadow-xl shadow-slate-900/5">
        <h2 class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">
          Entry details
        </h2>
        <dl class="mt-5 grid gap-4 text-sm">
          <div>
            <dt class="text-[0.7rem] uppercase tracking-[0.18em] text-slate-400">
              Model
            </dt>
            <dd class="mt-1 text-slate-900">
              {{ data.meta?.model_alternate_name || data.meta?.model_name }}
            </dd>
          </div>
          <div>
            <dt class="text-[0.7rem] uppercase tracking-[0.18em] text-slate-400">
              ZUID
            </dt>
            <dd class="mt-1 break-words text-slate-900">{{ data.meta?.zuid }}</dd>
          </div>
          <div>
            <dt class="text-[0.7rem] uppercase tracking-[0.18em] text-slate-400">
              Created
            </dt>
            <dd class="mt-1 text-slate-900">{{ data.meta?.createdAt }}</dd>
          </div>
          <div>
            <dt class="text-[0.7rem] uppercase tracking-[0.18em] text-slate-400">
              Updated
            </dt>
            <dd class="mt-1 text-slate-900">{{ data.meta?.updatedAt }}</dd>
          </div>
        </dl>
      </article>

      <article class="rounded-2xl bg-white p-7 shadow-xl shadow-slate-900/5">
        <h2 class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">
          Web presence
        </h2>
        <dl class="mt-5 grid gap-4 text-sm">
          <div>
            <dt class="text-[0.7rem] uppercase tracking-[0.18em] text-slate-400">
              URL
            </dt>
            <dd class="mt-1 break-words text-slate-900">
              {{ data.meta?.web?.url }}
            </dd>
          </div>
          <div>
            <dt class="text-[0.7rem] uppercase tracking-[0.18em] text-slate-400">
              URI
            </dt>
            <dd class="mt-1 text-slate-900">{{ data.meta?.web?.uri }}</dd>
          </div>
          <div>
            <dt class="text-[0.7rem] uppercase tracking-[0.18em] text-slate-400">
              Fragment
            </dt>
            <dd class="mt-1 text-slate-900">{{ data.meta?.web?.fragment }}</dd>
          </div>
          <div>
            <dt class="text-[0.7rem] uppercase tracking-[0.18em] text-slate-400">
              Last updated
            </dt>
            <dd class="mt-1 text-slate-900">
              {{ data.meta?.web?.sitemap_last_updated }}
            </dd>
          </div>
        </dl>
      </article>

      <article class="rounded-2xl bg-white p-7 shadow-xl shadow-slate-900/5">
        <h2 class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">
          Available locales
        </h2>
        <ul class="mt-5 grid gap-4 text-sm">
          <li
            *ngFor="let locale of data.meta?.availableLocales"
            class="grid gap-1 rounded-xl bg-slate-50 p-4"
          >
            <span class="font-semibold text-slate-900">{{ locale.name }}</span>
            <span class="text-xs uppercase tracking-[0.18em] text-slate-500">
              {{ locale.code }}
            </span>
            <div class="flex items-center gap-3">
              <a
                class="text-sm font-semibold text-slate-700 hover:text-slate-900"
                [href]="locale.url"
                target="_blank"
                rel="noreferrer"
              >
                Preview
              </a>
              <span
                *ngIf="locale.default === '1'"
                class="rounded-full bg-slate-900 px-3 py-1 text-[0.65rem] uppercase tracking-[0.18em] text-white"
              >
                Default
              </span>
            </div>
          </li>
        </ul>
      </article>
      </section>
    </section>
  </section>

  <ng-template #loading>
    <section
      class="relative mx-auto w-full max-w-5xl rounded-3xl bg-white/70 p-10 shadow-xl shadow-slate-900/5"
    >
      <div class="h-12 w-2/3 animate-pulse rounded-xl bg-slate-200"></div>
      <div class="mt-6 h-4 w-3/4 animate-pulse rounded-lg bg-slate-200"></div>
      <div class="mt-3 h-4 w-2/5 animate-pulse rounded-lg bg-slate-200"></div>
      <div *ngIf="errorMessage" class="mt-6 text-sm font-semibold text-rose-600">
        {{ errorMessage }}
      </div>
    </section>
  </ng-template>
</main>
